<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.120.1"><meta name=robots content="index, follow"><script>(function(e,t,n,s,o,i){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:2044976,hjsv:6},o=t.getElementsByTagName("head")[0],i=t.createElement("script"),i.async=1,i.src=n+e._hjSettings.hjid+s+e._hjSettings.hjsv,o.appendChild(i)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=")</script><link rel="shortcut icon" href=/COAsT/favicons/favicon.ico><link rel=apple-touch-icon href=/COAsT/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/COAsT/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/COAsT/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/COAsT/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/COAsT/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/COAsT/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/COAsT/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/COAsT/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/COAsT/favicons/android-192x192.png sizes=192x192><title>Potential energy tutorial | COAsT</title>
<meta name=description content="Potential energy tutorial example.
"><meta property="og:title" content="Potential energy tutorial"><meta property="og:description" content="Potential energy tutorial example.
"><meta property="og:type" content="article"><meta property="og:url" content="https://british-oceanographic-data-centre.github.io/COAsT/docs/examples/notebooks/gridded/potential_energy_tutorial/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-12-11T15:35:57+00:00"><meta property="og:site_name" content="COAsT"><meta itemprop=name content="Potential energy tutorial"><meta itemprop=description content="Potential energy tutorial example.
"><meta itemprop=dateModified content="2023-12-11T15:35:57+00:00"><meta itemprop=wordCount content="1252"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Potential energy tutorial"><meta name=twitter:description content="Potential energy tutorial example.
"><link rel=preload href=/COAsT/scss/main.min.9ea668271d9cdb20cf5fafff492172753cbe6b2901c4edde11672505be0584b4.css as=style><link href=/COAsT/scss/main.min.9ea668271d9cdb20cf5fafff492172753cbe6b2901c4edde11672505be0584b4.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.3.min.js integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-00000000-0")}</script></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll"><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/COAsT/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>COAsT</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class="navbar-nav text-white"><li class=nav-item><a class="nav-link text-white" href=/COAsT/#home><span>Home</span></a></li><li class=nav-item><a class="nav-link text-white" href=/COAsT/#about><span>About</span></a></li><li class=nav-item><a class="nav-link text-white" href=/COAsT/#community><span>Community</span></a></li><li class=nav-item><a class="nav-link text-white" href=/COAsT/docs/><span>Documentation</span></a></li><li class=nav-item><a class="nav-link text-white" target=_blank href=https://github.com/British-Oceanographic-Data-Centre/COAsT><span><i class="fab fa-github ml-2"></i></span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/COAsT/offline-search-index.17b95881d89c62e6fe9be92a87199edd.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/COAsT/offline-search-index.17b95881d89c62e6fe9be92a87199edd.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-coastdocs-li><a href=/COAsT/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-coastdocs><span>COAsT Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsoverview-li><a href=/COAsT/docs/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsgetting-started-li><a href=/COAsT/docs/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-coastdocsexamples-li><a href=/COAsT/docs/examples/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamples><span>Usage</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-coastdocsexamplesnotebooks-li><a href=/COAsT/docs/examples/notebooks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebooks><span>Tutorials - Notebooks</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-coastdocsexamplesnotebooksgridded-li><a href=/COAsT/docs/examples/notebooks/gridded/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebooksgridded><span>Gridded</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedcontour_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/contour_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedcontour_tutorial><span>Contour tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedintroduction_to_gridded_class-li><a href=/COAsT/docs/examples/notebooks/gridded/introduction_to_gridded_class/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedintroduction_to_gridded_class><span>Introduction to gridded class</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-coastdocsexamplesnotebooksgriddedpotential_energy_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/potential_energy_tutorial/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedpotential_energy_tutorial><span class=td-sidebar-nav-active-item>Potential energy tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedpycnocline_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/pycnocline_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedpycnocline_tutorial><span>Pycnocline tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedregridding_with_xesmf_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/regridding_with_xesmf_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedregridding_with_xesmf_tutorial><span>Regridding with xesmf tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedseasia_dic_example_plot_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/seasia_dic_example_plot_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedseasia_dic_example_plot_tutorial><span>Seasia dic example plot tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesnotebooksgriddedtransect_tutorial-li><a href=/COAsT/docs/examples/notebooks/gridded/transect_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgriddedtransect_tutorial><span>Transect tutorial</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsexamplesnotebooksgeneral-li><a href=/COAsT/docs/examples/notebooks/general/ title="General utility and analysis tools" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebooksgeneral><span>General utility</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralclimatology_tutorial-li><a href=/COAsT/docs/examples/notebooks/general/climatology_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralclimatology_tutorial><span>Climatology tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneraldask_wrapper_template_tutorial-li><a href=/COAsT/docs/examples/notebooks/general/dask_wrapper_template_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneraldask_wrapper_template_tutorial><span>Dask wrapper template tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneraleof_tutorial-li><a href=/COAsT/docs/examples/notebooks/general/eof_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneraleof_tutorial><span>Eof tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralexport_to_netcdf_tutorial-li><a href=/COAsT/docs/examples/notebooks/general/export_to_netcdf_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralexport_to_netcdf_tutorial><span>Export to netcdf tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralmask_maker_tutorial-li><a href=/COAsT/docs/examples/notebooks/general/mask_maker_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralmask_maker_tutorial><span>Mask maker tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralpolar_plotting-li><a href=/COAsT/docs/examples/notebooks/general/polar_plotting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralpolar_plotting><span>Polar plotting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralseasonal_decomp_example-li><a href=/COAsT/docs/examples/notebooks/general/seasonal_decomp_example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralseasonal_decomp_example><span>Seasonal decomp example</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksgeneralzarr_files-li><a href=/COAsT/docs/examples/notebooks/general/zarr_files/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksgeneralzarr_files><span>Zarr files</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsexamplesnotebooksaltimetry-li><a href=/COAsT/docs/examples/notebooks/altimetry/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebooksaltimetry><span>Altimety</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksaltimetryaltimetry_tutorial-li><a href=/COAsT/docs/examples/notebooks/altimetry/altimetry_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksaltimetryaltimetry_tutorial><span>Altimetry tutorial</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsexamplesnotebooksprofile-li><a href=/COAsT/docs/examples/notebooks/profile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebooksprofile><span>Profile</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksprofileintroduction_to_profile_class-li><a href=/COAsT/docs/examples/notebooks/profile/introduction_to_profile_class/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksprofileintroduction_to_profile_class><span>Introduction to profile class</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebooksprofilewod_bgc_ragged_example-li><a href=/COAsT/docs/examples/notebooks/profile/wod_bgc_ragged_example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebooksprofilewod_bgc_ragged_example><span>Wod bgc ragged example</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsexamplesnotebookstidegauge-li><a href=/COAsT/docs/examples/notebooks/tidegauge/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsexamplesnotebookstidegauge><span>Tidegauge</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebookstidegaugetidegauge_validation_tutorial-li><a href=/COAsT/docs/examples/notebooks/tidegauge/tidegauge_validation_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebookstidegaugetidegauge_validation_tutorial><span>Tidegauge validation tutorial</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsexamplesnotebookstidegaugetidetable_tutorial-li><a href=/COAsT/docs/examples/notebooks/tidegauge/tidetable_tutorial/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesnotebookstidegaugetidetable_tutorial><span>Tidetable tutorial</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-coastdocsexamplesconfigs_gallery-li><a href=/COAsT/docs/examples/configs_gallery/ title="Example scripts and Gallery" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsexamplesconfigs_gallery><span>Example scripts and gallery</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocscontributing-li><a href=/COAsT/docs/contributing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocscontributing><span>Contributing to COAsT</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocscontributingbug_report-li><a href=/COAsT/docs/contributing/bug_report/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocscontributingbug_report><span>Bug Report</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocscontributingcontributing-docs-li><a href=/COAsT/docs/contributing/contributing-docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocscontributingcontributing-docs><span>Contributing: Documentation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-coastdocscontributingcontributing-package-li><a href=/COAsT/docs/contributing/contributing-package/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocscontributingcontributing-package><span>Contributing to the Package</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocscontributingcontributing-packagecode_styling-li><a href=/COAsT/docs/contributing/contributing-package/code_styling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocscontributingcontributing-packagecode_styling><span>Code styling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocscontributingcontributing-packagecode_structure-li><a href=/COAsT/docs/contributing/contributing-package/code_structure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocscontributingcontributing-packagecode_structure><span>Code structure</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsgeneral-information-li><a href=/COAsT/docs/general-information/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsgeneral-information><span>General Information</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationpython_logging-li><a href=/COAsT/docs/general-information/python_logging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationpython_logging><span>Logging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationlazy-loading-li><a href=/COAsT/docs/general-information/lazy-loading/ title="Working Lazily" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationlazy-loading><span>Lazy</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationdask-li><a href=/COAsT/docs/general-information/dask/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationdask><span>Dask</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationbuild_test-li><a href=/COAsT/docs/general-information/build_test/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationbuild_test><span>Build test</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationgithub_actions_flowchart-li><a href=/COAsT/docs/general-information/github_actions_flowchart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationgithub_actions_flowchart><span>Github Actions Flowchart</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsgeneral-informationpush_to_master-li><a href=/COAsT/docs/general-information/push_to_master/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsgeneral-informationpush_to_master><span>Push to master</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-coastdocsreference-li><a href=/COAsT/docs/reference/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-coastdocsreference><span>API Reference</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencealtimetry-li><a href=/COAsT/docs/reference/altimetry/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencealtimetry><span>Altimetry</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceargos-li><a href=/COAsT/docs/reference/argos/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceargos><span>Argos</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceclimatology-li><a href=/COAsT/docs/reference/climatology/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceclimatology><span>Climatology</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencecoast-li><a href=/COAsT/docs/reference/coast/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencecoast><span>Coast</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceconfig_parser-li><a href=/COAsT/docs/reference/config_parser/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceconfig_parser><span>Config_parser</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceconfig_structure-li><a href=/COAsT/docs/reference/config_structure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceconfig_structure><span>Config_structure</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencecontour-li><a href=/COAsT/docs/reference/contour/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencecontour><span>Contour</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencecopernicus-li><a href=/COAsT/docs/reference/copernicus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencecopernicus><span>Copernicus</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencecrps_util-li><a href=/COAsT/docs/reference/crps_util/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencecrps_util><span>Crps_util</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencedocsy_tools-li><a href=/COAsT/docs/reference/docsy_tools/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencedocsy_tools><span>Docsy_tools</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceeof-li><a href=/COAsT/docs/reference/eof/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceeof><span>Eof</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceexperiments_file_handling-li><a href=/COAsT/docs/reference/experiments_file_handling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceexperiments_file_handling><span>Experiments_file_handling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencegeneral_utils-li><a href=/COAsT/docs/reference/general_utils/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencegeneral_utils><span>General_utils</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceglider-li><a href=/COAsT/docs/reference/glider/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceglider><span>Glider</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencegridded-li><a href=/COAsT/docs/reference/gridded/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencegridded><span>Gridded</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceindex_class-li><a href=/COAsT/docs/reference/index_class/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceindex_class><span>Index</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencelagrangian-li><a href=/COAsT/docs/reference/lagrangian/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencelagrangian><span>Lagrangian</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencelogging_util-li><a href=/COAsT/docs/reference/logging_util/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencelogging_util><span>Logging_util</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencemask_maker-li><a href=/COAsT/docs/reference/mask_maker/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencemask_maker><span>Mask_maker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceoceanparcels-li><a href=/COAsT/docs/reference/oceanparcels/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceoceanparcels><span>Oceanparcels</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceopendap-li><a href=/COAsT/docs/reference/opendap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceopendap><span>Opendap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceplot_util-li><a href=/COAsT/docs/reference/plot_util/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceplot_util><span>Plot_util</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceprofile-li><a href=/COAsT/docs/reference/profile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceprofile><span>Profile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceprofile_analysis-li><a href=/COAsT/docs/reference/profile_analysis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceprofile_analysis><span>Profile_analysis</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferenceseasons-li><a href=/COAsT/docs/reference/seasons/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferenceseasons><span>Seasons</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencestats_util-li><a href=/COAsT/docs/reference/stats_util/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencestats_util><span>Stats_util</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencetidegauge-li><a href=/COAsT/docs/reference/tidegauge/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencetidegauge><span>Tidegauge</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencetidegauge_analysis-li><a href=/COAsT/docs/reference/tidegauge_analysis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencetidegauge_analysis><span>Tidegauge_analysis</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencetimeseries-li><a href=/COAsT/docs/reference/timeseries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencetimeseries><span>Timeseries</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencetrack-li><a href=/COAsT/docs/reference/track/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencetrack><span>Track</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-coastdocsreferencexesmf_convert-li><a href=/COAsT/docs/reference/xesmf_convert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-coastdocsreferencexesmf_convert><span>Xesmf_convert</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/British-Oceanographic-Data-Centre/COAsT-site/tree/main/content/en/docs/Examples/Notebooks/Gridded/potential_energy_tutorial.md class=td-page-meta--view target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/British-Oceanographic-Data-Centre/COAsT-site/edit/main/content/en/docs/Examples/Notebooks/Gridded/potential_energy_tutorial.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/British-Oceanographic-Data-Centre/COAsT-site/new/main/content/en/docs/Examples/Notebooks/Gridded/potential_energy_tutorial.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/British-Oceanographic-Data-Centre/COAsT-site/issues/new?title=Potential%20energy%20tutorial" class=td-page-meta--issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/British-Oceanographic-Data-Centre/COAsT/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#relevant-imports-and-filepath-configuration>Relevant imports and filepath configuration</a></li><li><a href=#loading-data>Loading data</a></li><li><a href=#calculates-potential-energy-anomaly>Calculates Potential Energy Anomaly</a></li></ul></li><li><a href=#make-a-plot>make a plot</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://british-oceanographic-data-centre.github.io/COAsT/docs/>COAsT Documentation</a></li><li class=breadcrumb-item><a href=https://british-oceanographic-data-centre.github.io/COAsT/docs/examples/>Usage</a></li><li class=breadcrumb-item><a href=https://british-oceanographic-data-centre.github.io/COAsT/docs/examples/notebooks/>Tutorials - Notebooks</a></li><li class=breadcrumb-item><a href=https://british-oceanographic-data-centre.github.io/COAsT/docs/examples/notebooks/gridded/>Gridded</a></li><li class="breadcrumb-item active" aria-current=page>Potential energy tutorial</li></ol></nav><div class=td-content><h1>Potential energy tutorial</h1><div class=lead>Potential energy tutorial example.</div><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>&nbsp; 6 minute read &nbsp;</p></header><p>A demonstration to calculate the Potential Energy Anomaly and demonstrate regional masking with MaskMaker</p><h3 id=relevant-imports-and-filepath-configuration>Relevant imports and filepath configuration</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>coast</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>numpy</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>np</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>os</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>matplotlib.pyplot</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>plt</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>matplotlib.colors</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>colors</span>  <span style=color:#8f5902;font-style:italic># colormap fiddling</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>xarray</span> <span style=color:#204a87;font-weight:700>as</span> <span style=color:#000>xr</span>
</span></span></code></pre></div><pre><code>/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pydap/lib.py:5: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2871: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2871: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap.responses')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2350: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2871: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap.handlers')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2350: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2871: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap.tests')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2350: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('pydap')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/pkg_resources/__init__.py:2871: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.
Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># set some paths</span>
</span></span><span style=display:flex><span><span style=color:#000>root</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;./&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>dn_files</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>root</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;./example_files/&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>fn_nemo_grid_t_dat</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dn_files</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;nemo_data_T_grid_Aug2015.nc&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>fn_nemo_dom</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dn_files</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;coast_example_nemo_domain.nc&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>config_t</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>root</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#4e9a06>&#34;./config/example_nemo_grid_t.json&#34;</span>
</span></span></code></pre></div><h3 id=loading-data>Loading data</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Create a Gridded object and load in the data:</span>
</span></span><span style=display:flex><span><span style=color:#000>nemo</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>coast</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Gridded</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>fn_nemo_grid_t_dat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>fn_nemo_dom</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>config</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>config_t</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=calculates-potential-energy-anomaly>Calculates Potential Energy Anomaly</h3><p>The density and depth averaged density can be supplied within gridded_t as <code>density</code> and
<code>density_bar</code> DataArrays, respectively. If they are not supplied they will be calculated.
<code>density_bar</code> is calcuated using depth averages of temperature and salinity.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Compute a vertical max to exclude depths below 200m</span>
</span></span><span style=display:flex><span><span style=color:#000>Zd_mask</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>kmax</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Ikmax</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>nemo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>calculate_vertical_mask</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>200.</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Initiate a stratification diagnostics object</span>
</span></span><span style=display:flex><span><span style=color:#000>strat</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>coast</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>GriddedStratification</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nemo</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><pre><code>/usr/share/miniconda/envs/coast/lib/python3.10/site-packages/xarray/core/utils.py:494: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># calculate PEA for unmasked depths</span>
</span></span><span style=display:flex><span><span style=color:#000>strat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>calc_pea</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>nemo</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>Zd_mask</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h2 id=make-a-plot>make a plot</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>strat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quick_plot</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;PEA&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><pre><code>(&lt;Figure size 1000x1000 with 2 Axes&gt;,
 &lt;Axes: title={'center': '01 Aug 2015: Potential Energy Anomaly (J / m^3)'}, xlabel='longitude', ylabel='latitude'&gt;)
</code></pre><p><img src=/COAsT/potential_energy_tutorial_files/potential_energy_tutorial_11_1.png alt=png></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>strat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataset</span>
</span></span></code></pre></div><div><svg style="position:absolute;width:0;height:0;overflow:hidden"><defs><symbol id="icon-database" viewBox="0 0 32 32"><path d="M16 0C7.163.0.0 2.239.0 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5V5c0-2.761-7.163-5-16-5z"/><path d="M16 17c-8.837.0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"/><path d="M16 26c-8.837.0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"/></symbol><symbol id="icon-file-text2" viewBox="0 0 32 32"><path d="M28.681 7.159c-.694-.947-1.662-2.053-2.724-3.116s-2.169-2.03-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319H4.5c-1.378.0-2.5 1.121-2.5 2.5v27C2 30.878 3.122 32 4.5 32h23c1.378.0 2.5-1.122 2.5-2.5V10c0-.448-.137-1.23-1.319-2.841zM24.543 5.457c.959.959 1.712 1.825 2.268 2.543H22V3.189c.718.556 1.584 1.309 2.543 2.268zM28 29.5c0 .271-.229.5-.5.5h-23c-.271.0-.5-.229-.5-.5v-27c0-.271.229-.5.5-.5.0.0 15.499.0 15.5.0v7c0 .552.448 1 1 1h7v19.5z"/><path d="M23 26H9c-.552.0-1-.448-1-1s.448-1 1-1h14c.552.0 1 .448 1 1s-.448 1-1 1z"/><path d="M23 22H9c-.552.0-1-.448-1-1s.448-1 1-1h14c.552.0 1 .448 1 1s-.448 1-1 1z"/><path d="M23 18H9c-.552.0-1-.448-1-1s.448-1 1-1h14c.552.0 1 .448 1 1s-.448 1-1 1z"/></symbol></defs></svg><style><p>:root{&ndash;xr-font-color0:var(&ndash;jp-content-font-color0,#000);&ndash;xr-font-color2:var(&ndash;jp-content-font-color2,rgba(0,0,0,.54));&ndash;xr-font-color3:var(&ndash;jp-content-font-color3,rgba(0,0,0,.38));&ndash;xr-border-color:var(&ndash;jp-border-color2,#e0e0e0);&ndash;xr-disabled-color:var(&ndash;jp-layout-color3,#bdbdbd);&ndash;xr-background-color:var(&ndash;jp-layout-color0,white);&ndash;xr-background-color-row-even:var(&ndash;jp-layout-color1,white);&ndash;xr-background-color-row-odd:var(&ndash;jp-layout-color2,#eeeeee)}</p><p>html[theme=dark],body[data-theme=dark],body.vscode-dark{&ndash;xr-font-color0:#fff;&ndash;xr-font-color2:rgba(255,255,255,.54);&ndash;xr-font-color3:rgba(255,255,255,.38);&ndash;xr-border-color:#1F1F1F;&ndash;xr-disabled-color:#515151;&ndash;xr-background-color:#111111;&ndash;xr-background-color-row-even:#111111;&ndash;xr-background-color-row-odd:#313131}</p><p>.xr-wrap{display:block!important;min-width:300px;max-width:700px}</p><p>.xr-text-repr-fallback{display:none}</p><p>.xr-header{padding-top:6px;padding-bottom:6px;margin-bottom:4px;border-bottom:solid 1px var(&ndash;xr-border-color)}</p><p>.xr-header &gt; div,.xr-header &gt; ul{display:inline;margin-top:0;margin-bottom:0}</p><p>.xr-obj-type,.xr-array-name{margin-left:2px;margin-right:10px}</p><p>.xr-obj-type{color:var(&ndash;xr-font-color2)}</p><p>.xr-sections{padding-left:0!important;display:grid;grid-template-columns:150px auto auto 1fr 20px 20px}</p><p>.xr-section-item{display:contents}</p><p>.xr-section-item input{display:none}</p><p>.xr-section-item input+label{color:var(&ndash;xr-disabled-color)}</p><p>.xr-section-item input:enabled+label{cursor:pointer;color:var(&ndash;xr-font-color2)}</p><p>.xr-section-item input:enabled+label:hover{color:var(&ndash;xr-font-color0)}</p><p>.xr-section-summary{grid-column:1;color:var(&ndash;xr-font-color2);font-weight:500}</p><p>.xr-section-summary &gt; span{display:inline-block;padding-left:.5em}</p><p>.xr-section-summary-in:disabled+label{color:var(&ndash;xr-font-color2)}</p><p>.xr-section-summary-in+label:before{display:inline-block;content:&lsquo;►&rsquo;font-size:11px;width:15px;text-align:center}</p><p>.xr-section-summary-in:disabled+label:before{color:var(&ndash;xr-disabled-color)}</p><p>.xr-section-summary-in:checked+label:before{content:&lsquo;▼&rsquo}</p><p>.xr-section-summary-in:checked+label &gt; span{display:none}</p><p>.xr-section-summary,.xr-section-inline-details{padding-top:4px;padding-bottom:4px}</p><p>.xr-section-inline-details{grid-column:2/-1}</p><p>.xr-section-details{display:none;grid-column:1/-1;margin-bottom:5px}</p><p>.xr-section-summary-in:checked~.xr-section-details{display:contents}</p><p>.xr-array-wrap{grid-column:1/-1;display:grid;grid-template-columns:20px auto}</p><p>.xr-array-wrap &gt; label{grid-column:1;vertical-align:top}</p><p>.xr-preview{color:var(&ndash;xr-font-color3)}</p><p>.xr-array-preview,.xr-array-data{padding:0 5px!important;grid-column:2}</p><p>.xr-array-data,.xr-array-in:checked~.xr-array-preview{display:none}</p><p>.xr-array-in:checked~.xr-array-data,.xr-array-preview{display:inline-block}</p><p>.xr-dim-list{display:inline-block!important;list-style:none;padding:0!important;margin:0}</p><p>.xr-dim-list li{display:inline-block;padding:0;margin:0}</p><p>.xr-dim-list:before{content:&lsquo;(&rsquo;; }</p> <p>.xr-dim-list:after { content: &lsquo;)&rsquo}</p><p>.xr-dim-list li:not(:last-child):after{content:&lsquo;,&rsquo;padding-right:5px}</p><p>.xr-has-index{font-weight:700}</p><p>.xr-var-list,.xr-var-item{display:contents}</p><p>.xr-var-item &gt; div,.xr-var-item label,.xr-var-item &gt; .xr-var-name span{background-color:var(&ndash;xr-background-color-row-even);margin-bottom:0}</p><p>.xr-var-item &gt; .xr-var-name:hover span{padding-right:5px}</p><p>.xr-var-list &gt; li:nth-child(odd) &gt; div,.xr-var-list &gt; li:nth-child(odd) &gt; label,.xr-var-list &gt; li:nth-child(odd) &gt; .xr-var-name span{background-color:var(&ndash;xr-background-color-row-odd)}</p><p>.xr-var-name{grid-column:1}</p><p>.xr-var-dims{grid-column:2}</p><p>.xr-var-dtype{grid-column:3;text-align:right;color:var(&ndash;xr-font-color2)}</p><p>.xr-var-preview{grid-column:4}</p><p>.xr-index-preview{grid-column:2/5;color:var(&ndash;xr-font-color2)}</p><p>.xr-var-name,.xr-var-dims,.xr-var-dtype,.xr-preview,.xr-attrs dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:10px}</p><p>.xr-var-name:hover,.xr-var-dims:hover,.xr-var-dtype:hover,.xr-attrs dt:hover{overflow:visible;width:auto;z-index:1}</p><p>.xr-var-attrs,.xr-var-data,.xr-index-data{display:none;background-color:var(&ndash;xr-background-color)!important;padding-bottom:5px!important}</p><p>.xr-var-attrs-in:checked~.xr-var-attrs,.xr-var-data-in:checked~.xr-var-data,.xr-index-data-in:checked~.xr-index-data{display:block}</p><p>.xr-var-data &gt; table{float:right}</p><p>.xr-var-name span,.xr-var-data,.xr-index-name div,.xr-index-data,.xr-attrs{padding-left:25px!important}</p><p>.xr-attrs,.xr-var-attrs,.xr-var-data,.xr-index-data{grid-column:1/-1}</p><p>dl.xr-attrs{padding:0;margin:0;display:grid;grid-template-columns:125px auto}</p><p>.xr-attrs dt,.xr-attrs dd{padding:0;margin:0;float:left;padding-right:10px;width:auto}</p><p>.xr-attrs dt{font-weight:400;grid-column:1}</p><p>.xr-attrs dt:hover span{display:inline-block;background:var(&ndash;xr-background-color);padding-right:10px}</p><p>.xr-attrs dd{grid-column:2;white-space:pre-wrap;word-break:break-all}</p><p>.xr-icon-database,.xr-icon-file-text2,.xr-no-icon{display:inline-block;vertical-align:middle;width:1em;height:1.5em!important;stroke-width:0;stroke:currentColor;fill:currentColor}</style><pre class=xr-text-repr-fallback>&lt;xarray.Dataset&gt;
Dimensions:    (t_dim: 7, y_dim: 375, x_dim: 297)
Coordinates:
time       (t_dim) datetime64[ns] 2015-08-01T12:00:00 &hellip; 2015-08-07T12:0&hellip;
latitude   (y_dim, x_dim) float32 40.07 40.07 40.07 40.07 &hellip; 65.0 65.0 65.0
longitude  (y_dim, x_dim) float32 -19.89 -19.78 -19.67 &hellip; 12.78 12.89 13.0
Dimensions without coordinates: t_dim, y_dim, x_dim
Data variables:
PEA        (t_dim, y_dim, x_dim) float64 nan nan nan nan &hellip; nan nan nan nan</pre><div class=xr-wrap style=display:none><div class=xr-header><div class=xr-obj-type>xarray.Dataset</div></div><ul class=xr-sections><li class=xr-section-item><input id=section-f4dd4920-41a0-4602-a5a0-c1049a6591bc class=xr-section-summary-in type=checkbox disabled><label for=section-f4dd4920-41a0-4602-a5a0-c1049a6591bc class=xr-section-summary title='Expand/collapse section'>Dimensions:</label><div class=xr-section-inline-details><ul class=xr-dim-list><li><span>t_dim</span>: 7</li><li><span>y_dim</span>: 375</li><li><span>x_dim</span>: 297</li></ul></div><div class=xr-section-details></div></li><li class=xr-section-item><input id=section-9d5a1f0f-1cbc-4ed5-9b58-b011538a1efa class=xr-section-summary-in type=checkbox checked><label for=section-9d5a1f0f-1cbc-4ed5-9b58-b011538a1efa class=xr-section-summary>Coordinates: <span>(3)</span></label><div class=xr-section-inline-details></div><div class=xr-section-details><ul class=xr-var-list><li class=xr-var-item><div class=xr-var-name><span>time</span></div><div class=xr-var-dims>(t_dim)</div><div class=xr-var-dtype>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2015-08-01T12:00:00 &mldr; 2015-08-&mldr;</div><input id=attrs-b36042cc-a488-4f76-92f9-5f104a930c5d class=xr-var-attrs-in type=checkbox disabled><label for=attrs-b36042cc-a488-4f76-92f9-5f104a930c5d title='Show/Hide attributes'><svg class="icon xr-icon-file-text2"><use xlink:href="#icon-file-text2"/></svg></label><input id=data-d3bd5efb-06c8-494a-8082-10704378275f class=xr-var-data-in type=checkbox><label for=data-d3bd5efb-06c8-494a-8082-10704378275f title='Show/Hide data repr'><svg class="icon xr-icon-database"><use xlink:href="#icon-database"/></svg></label><div class=xr-var-attrs><dl class=xr-attrs></dl></div><div class=xr-var-data><pre>array(['2015-08-01T12:00:00.000000000', '2015-08-02T12:00:00.000000000',
'2015-08-03T12:00:00.000000000', '2015-08-04T12:00:00.000000000',
'2015-08-05T12:00:00.000000000', '2015-08-06T12:00:00.000000000',
'2015-08-07T12:00:00.000000000'], dtype='datetime64[ns]')</pre></div></li><li class=xr-var-item><div class=xr-var-name><span>latitude</span></div><div class=xr-var-dims>(y_dim, x_dim)</div><div class=xr-var-dtype>float32</div><div class='xr-var-preview xr-preview'>40.07 40.07 40.07 &mldr; 65.0 65.0</div><input id=attrs-7987c206-51c6-435f-96a9-93cdcdd62ded class=xr-var-attrs-in type=checkbox disabled><label for=attrs-7987c206-51c6-435f-96a9-93cdcdd62ded title='Show/Hide attributes'><svg class="icon xr-icon-file-text2"><use xlink:href="#icon-file-text2"/></svg></label><input id=data-febb365b-3f60-4368-a30d-ce55da5df11f class=xr-var-data-in type=checkbox><label for=data-febb365b-3f60-4368-a30d-ce55da5df11f title='Show/Hide data repr'><svg class="icon xr-icon-database"><use xlink:href="#icon-database"/></svg></label><div class=xr-var-attrs><dl class=xr-attrs></dl></div><div class=xr-var-data><pre>array([[40.066406, 40.066406, 40.066406, &hellip;, 40.066406, 40.066406,
40.066406],
[40.13379 , 40.13379 , 40.13379 , &hellip;, 40.13379 , 40.13379 ,
40.13379 ],
[40.200195, 40.200195, 40.200195, &hellip;, 40.200195, 40.200195,
40.200195],
&hellip;,
[64.868164, 64.868164, 64.868164, &hellip;, 64.868164, 64.868164,
64.868164],
[64.93457 , 64.93457 , 64.93457 , &hellip;, 64.93457 , 64.93457 ,
64.93457 ],
[65.00098 , 65.00098 , 65.00098 , &hellip;, 65.00098 , 65.00098 ,
65.00098 ]], dtype=float32)</pre></div></li><li class=xr-var-item><div class=xr-var-name><span>longitude</span></div><div class=xr-var-dims>(y_dim, x_dim)</div><div class=xr-var-dtype>float32</div><div class='xr-var-preview xr-preview'>-19.89 -19.78 -19.67 &mldr; 12.89 13.0</div><input id=attrs-0722efb0-390c-4e22-8a41-e9742f95397e class=xr-var-attrs-in type=checkbox disabled><label for=attrs-0722efb0-390c-4e22-8a41-e9742f95397e title='Show/Hide attributes'><svg class="icon xr-icon-file-text2"><use xlink:href="#icon-file-text2"/></svg></label><input id=data-7a072b31-2fe6-4111-80bd-56193360b837 class=xr-var-data-in type=checkbox><label for=data-7a072b31-2fe6-4111-80bd-56193360b837 title='Show/Hide data repr'><svg class="icon xr-icon-database"><use xlink:href="#icon-database"/></svg></label><div class=xr-var-attrs><dl class=xr-attrs></dl></div><div class=xr-var-data><pre>array([[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ],
[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ],
[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ],
&hellip;,
[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ],
[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ],
[-19.888672, -19.777344, -19.666992, &hellip;,  12.777344,  12.888672,
13.      ]], dtype=float32)</pre></div></li></ul></div></li><li class=xr-section-item><input id=section-e28f6b63-368a-459a-a32d-0054560bd1df class=xr-section-summary-in type=checkbox checked><label for=section-e28f6b63-368a-459a-a32d-0054560bd1df class=xr-section-summary>Data variables: <span>(1)</span></label><div class=xr-section-inline-details></div><div class=xr-section-details><ul class=xr-var-list><li class=xr-var-item><div class=xr-var-name><span>PEA</span></div><div class=xr-var-dims>(t_dim, y_dim, x_dim)</div><div class=xr-var-dtype>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan &mldr; nan nan nan nan</div><input id=attrs-899c7ea9-fda7-430f-8499-1bebc3f75bbe class=xr-var-attrs-in type=checkbox><label for=attrs-899c7ea9-fda7-430f-8499-1bebc3f75bbe title='Show/Hide attributes'><svg class="icon xr-icon-file-text2"><use xlink:href="#icon-file-text2"/></svg></label><input id=data-177f14e9-96dc-40f3-916b-69ac24f2f21d class=xr-var-data-in type=checkbox><label for=data-177f14e9-96dc-40f3-916b-69ac24f2f21d title='Show/Hide data repr'><svg class="icon xr-icon-database"><use xlink:href="#icon-database"/></svg></label><div class=xr-var-attrs><dl class=xr-attrs><dt><span>units :</span></dt><dd>J / m^3</dd><dt><span>standard_name :</span></dt><dd>Potential Energy Anomaly</dd></dl></div><div class=xr-var-data><pre>array([[[         nan,          nan,          nan, &hellip;,          nan,
nan,          nan],
[         nan, 262.43849344, 261.16678604, &hellip;,          nan,
nan,          nan],
[         nan, 262.22882652, 292.63335667, &hellip;,          nan,
nan,          nan],
&hellip;,
[         nan,          nan,          nan, &hellip;,          nan,
nan,          nan],
[         nan,          nan,          nan, &hellip;,          nan,
nan,          nan],
[         nan,          nan,          nan, &hellip;,          nan,
nan,          nan]],</p>
<pre><code>   [[         nan,          nan,          nan, ...,          nan,
              nan,          nan],
    [         nan, 269.18332328, 268.17983174, ...,          nan,
              nan,          nan],
    [         nan, 268.76494494, 226.91876185, ...,          nan,
              nan,          nan],
</code></pre><p>&mldr;
[ nan, nan, nan, &mldr;, nan,
nan, nan],
[ nan, nan, nan, &mldr;, nan,
nan, nan],
[ nan, nan, nan, &mldr;, nan,
nan, nan]],</p><pre><code>   [[         nan,          nan,          nan, ...,          nan,
              nan,          nan],
    [         nan, 263.17561991, 262.13100791, ...,          nan,
              nan,          nan],
    [         nan, 263.60651849, 268.85516316, ...,          nan,
              nan,          nan],
    ...,
    [         nan,          nan,          nan, ...,          nan,
              nan,          nan],
    [         nan,          nan,          nan, ...,          nan,
              nan,          nan],
    [         nan,          nan,          nan, ...,          nan,
              nan,          nan]]])&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class='xr-section-item'&gt;&lt;input id='section-366b5f43-869e-41fd-b701-1f9d47f47bd2' class='xr-section-summary-in' type='checkbox' disabled &gt;&lt;label for='section-366b5f43-869e-41fd-b701-1f9d47f47bd2' class='xr-section-summary'  title='Expand/collapse section'&gt;Indexes: &lt;span&gt;(0)&lt;/span&gt;&lt;/label&gt;&lt;div class='xr-section-inline-details'&gt;&lt;/div&gt;&lt;div class='xr-section-details'&gt;&lt;ul class='xr-var-list'&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class='xr-section-item'&gt;&lt;input id='section-a1410ba4-df0d-43c5-9bbf-df657a5f9139' class='xr-section-summary-in' type='checkbox' disabled &gt;&lt;label for='section-a1410ba4-df0d-43c5-9bbf-df657a5f9139' class='xr-section-summary'  title='Expand/collapse section'&gt;Attributes: &lt;span&gt;(0)&lt;/span&gt;&lt;/label&gt;&lt;div class='xr-section-inline-details'&gt;&lt;/div&gt;&lt;div class='xr-section-details'&gt;&lt;dl class='xr-attrs'&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;
</code></pre><h1 id=use-maskmaker-to-define-regions-and-do-regional-analysis>Use MaskMaker to define regions and do regional analysis</h1><p>MaskMaker can build a stack of boolean masks in an xarray dataset for regional analysis. For the NWS we can use some built-in regions.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mm</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>coast</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>MaskMaker</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Define Regional Masks</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Define convenient aliases based on nemo data</span>
</span></span><span style=display:flex><span><span style=color:#000>lon</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>nemo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>longitude</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span><span style=color:#000>lat</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>nemo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>latitude</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span><span style=color:#000>bathy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>nemo</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>bathymetry</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>values</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Add regional mask for whole domain</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>np</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ones</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Add regional mask for English Channel</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_nws_north_sea</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_nws_outer_shelf</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_nws_norwegian_trench</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_nws_english_channel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_south_north_sea</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_off_shelf</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_irish_sea</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span><span style=color:#000>regional_masks</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_def_kattegat</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>bathy</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>region_names</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;whole domain&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;north sea&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;outer shelf&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;norwegian trench&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                <span style=color:#4e9a06>&#34;english_channel&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;southern north sea&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;off shelf&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                <span style=color:#4e9a06>&#34;irish sea&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;kattegat&#34;</span><span style=color:#000;font-weight:700>,]</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

Cell In[8], line 15
     12 regional_masks.append(np.ones(lon.shape))
     14 # Add regional mask for English Channel
---&gt; 15 regional_masks.append(mm.region_def_nws_north_sea(lon, lat, bathy))
     16 regional_masks.append(mm.region_def_nws_outer_shelf(lon, lat, bathy))
     17 regional_masks.append(mm.region_def_nws_norwegian_trench(lon, lat, bathy))


AttributeError: 'MaskMaker' object has no attribute 'region_def_nws_north_sea'
</code></pre><p>Convert this list of masks into a dataset</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mask_list</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>make_mask_dataset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lon</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>lat</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>regional_masks</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>region_names</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[9], line 1
----&gt; 1 mask_list = mm.make_mask_dataset(lon, lat, regional_masks, region_names)


NameError: name 'region_names' is not defined
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mask_list</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[10], line 1
----&gt; 1 mask_list


NameError: name 'mask_list' is not defined
</code></pre><p>Inspect the mask with a <code>quick_plot()</code> method.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quick_plot</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mask_list</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[11], line 1
----&gt; 1 mm.quick_plot(mask_list)


NameError: name 'mask_list' is not defined
</code></pre><p>NB overlapping regions are not given special treatment, the layers are blindly superimposed on each other. E.g. as demonstrated with &ldquo;Norwegian Trench&rdquo; and &ldquo;off shelf&rdquo;, or &ldquo;whole domain&rdquo; and any other region.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>subplot</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quick_plot</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mask_list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim_mask</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>subplot</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>mm</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>quick_plot</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mask_list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim_mask</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#000;font-weight:700>]))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tight_layout</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[12], line 2
      1 plt.subplot(2,2,1)
----&gt; 2 mm.quick_plot(mask_list.sel(dim_mask=[0,3]))
      4 plt.subplot(2,2,2)
      5 mm.quick_plot(mask_list.sel(dim_mask=[1,2,4,5,6,7,8]))


NameError: name 'mask_list' is not defined
</code></pre><p><img src=/COAsT/potential_energy_tutorial_files/potential_energy_tutorial_21_1.png alt=png></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Show overlap</span>
</span></span><span style=display:flex><span><span style=color:#000>mask_list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mask</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sum</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;dim_mask&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>plot</span><span style=color:#000;font-weight:700>(</span> <span style=color:#000>levels</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Save if required</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#plt.savefig(&#39;tmp.png&#39;)</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[13], line 2
      1 # Show overlap
----&gt; 2 mask_list.mask.sum(dim='dim_mask').plot( levels=(1,2,3,4))
      4 # Save if required
      5 #plt.savefig('tmp.png')


NameError: name 'mask_list' is not defined
</code></pre><h1 id=regional-analysis>Regional analysis</h1><p>Average stratification object over regions using the mask</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mask_means</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>strat</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataset</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>mask_list</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mask</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mean</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;x_dim&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mean</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;y_dim&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[14], line 1
----&gt; 1 mask_means = (strat.dataset*mask_list.mask).mean(dim='x_dim').mean(dim='y_dim')


NameError: name 'mask_list' is not defined
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>mask_means</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[15], line 1
----&gt; 1 mask_means


NameError: name 'mask_means' is not defined
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Plot timeseries per region</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>count_region</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mask_means</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dims</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;dim_mask&#39;</span><span style=color:#000;font-weight:700>]):</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>plot</span><span style=color:#000;font-weight:700>(</span> 
</span></span><span style=display:flex><span>        <span style=color:#000>mask_means</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>PEA</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>isel</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>dim_mask</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>count_region</span><span style=color:#000;font-weight:700>),</span>
</span></span><span style=display:flex><span>        <span style=color:#000>label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>mask_means</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>region_names</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>count_region</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>values</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#000>marker</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;.&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>linestyle</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;none&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>xlabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;time&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ylabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;PEA&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>plt</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>legend</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

Cell In[16], line 3
      1 # Plot timeseries per region
----&gt; 3 for count_region in range(mask_means.dims['dim_mask']):
      5     plt.plot( 
      6         mask_means.PEA.isel(dim_mask=count_region),
      7         label=mask_means.region_names[count_region].values,
      8         marker=&quot;.&quot;, linestyle='none')
     10 plt.xlabel('time'); plt.ylabel('PEA')


NameError: name 'mask_means' is not defined
</code></pre><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it!</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/British-Oceanographic-Data-Centre/COAsT/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified December 11, 2023: <a href=https://github.com/British-Oceanographic-Data-Centre/COAsT-site/commit/9473799d03287f1bc83c7aa9d730d4553133bfa5>Updated Gridded notebook pages from coast repo. (9473799)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2 justify-content-center"><div class="td-footer__copyright-etc col-12 col-sm-12 text-center py-2 order-sm-2"><div><span>&copy; Copyright (c) 2023 British Oceanographic Data Centre</span></div><div class=p-2><span class="foot-link ms-1"><a class="foot-link text-white" href=https://github.com/British-Oceanographic-Data-Centre/COAsT/blob/develop/LICENSE target=_blank rel=noopener>Privacy Policy</a></span></div><div class=foot-link><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/British-Oceanographic-Data-Centre/COAsT aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div></div></div></div></footer></div><script src=/COAsT/js/main.min.dbce55f458627803159d33e2018963753f9167a6a592df6f4676b05b7265571c.js integrity="sha256-285V9FhieAMVnTPiAYljdT+RZ6alkt9vRnawW3JlVxw=" crossorigin=anonymous></script><script defer src=/COAsT/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin=anonymous></script><script src=/COAsT/js/tabpane-persist.js></script></body></html>