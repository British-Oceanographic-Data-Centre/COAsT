---
title: "Contour"
linkTitle: "Contour"
date: 2022-06-10
description: >
  Docstrings for the Contour class
---


### Objects

[Contour()](#contour)<br />
[Contour.get_contours()](#contourget_contours)<br />
[Contour.plot_contour()](#contourplot_contour)<br />
[Contour.get_contour_segment()](#contourget_contour_segment)<br />
[Contour.process_contour()](#contourprocess_contour)<br />
[Contour.gen_z_levels()](#contourgen_z_levels)<br />
[ContourF()](#contourf)<br />
[ContourF.calc_cross_contour_flow()](#contourfcalc_cross_contour_flow)<br />
[ContourF._update_cross_flow_vars()](#contourf_update_cross_flow_vars)<br />
[ContourF._update_cross_flow_latlon()](#contourf_update_cross_flow_latlon)<br />
[ContourF._pressure_gradient_fpoint2()](#contourf_pressure_gradient_fpoint2)<br />
[ContourF.calc_geostrophic_flow()](#contourfcalc_geostrophic_flow)<br />
[ContourT()](#contourt)<br />
[ContourT.construct_pressure()](#contourtconstruct_pressure)<br />
[ContourT.calc_along_contour_flow()](#contourtcalc_along_contour_flow)<br />
[ContourT.calc_along_contour_flow_2d()](#contourtcalc_along_contour_flow_2d)<br />
[ContourT._update_flow_vars()](#contourt_update_flow_vars)<br />
[ContourT._update_along_flow_latlon()](#contourt_update_along_flow_latlon)<br />

Contour classes
#### Contour()
```python
class Contour():
```

```
None
```

##### Contour.get_contours()
```python
@staticmethod
def Contour.get_contours(gridded, contour_depth):
```
> <br />
> A method to obtain the continuous isbobath contours within a supplied<br />
> gridded domain as a set of y indices and x indices for the model grid.<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The gridded object containing the dataset with the 'bathymetry' variable<br />
> contour_depth : int<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Depth of desired contours<br />
> <br />
> Returns<br />
> -------<br />
> List of 2d ndarrays<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Each item of the list contains a different continuous isobath contour as a<br />
> <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2d ndarray of indicies, i.e. for each list item:</b><br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,0] contains the y indices for the contour on the model grid<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,1] contains the x indices for the contour on the model grid<br />
> <br />
##### Contour.plot_contour()
```python
@staticmethod
def Contour.plot_contour(gridded, contour):
```
> <br />
> Quick plot method to plot a contour over a pcolormesh of the<br />
> model bathymetry<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The gridded object containing the dataset with the 'bathymetry' variable<br />
> contour : 2d array<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,0] contains the y indices for the contour on the model grid<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,1] contains the x indices for the contour on the model grid<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  i.e. contour = np.vstack((y_indices,x_indices)).T<br />
> <br />
> Returns<br />
> -------<br />
> None<br />
> <br />
##### Contour.get_contour_segment()
```python
@staticmethod
def Contour.get_contour_segment(gridded, contour, start_coords, end_coords):
```
> <br />
> Method that will take a contour from the list of contours generated by<br />
> coast.Contour.get_contours() and trim it to start at supplied (lat,lon)<br />
> coordinates and end at supplied (lat, lon) coordinates.<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The gridded object containing the dataset with the 'bathymetry' variable<br />
> contour : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,0] contains the y indices for the contour on the model grid<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,1] contains the x indices for the contour on the model grid<br />
> start_coords : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1d array containing [latitude,longitude] of the start point of the contour<br />
> end_coords : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1d array containing [latitude,longitude] of the end point of the contour<br />
> <br />
> Returns<br />
> -------<br />
> y_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  y indices of the contour on the model grid<br />
> x_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x indices of the contour on the model grid<br />
> contour : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  For the convenience of plotting using coast.Contour.plot_contour()<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,0] = y_ind<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  contour[:,1] = x_ind<br />
> <br />
##### Contour.process_contour()
```python

def Contour.process_contour(self, dataset, y_ind, x_ind):
```
> <br />
> Redefine contour so that each point on the contour defined by<br />
> y_ind and x_ind is seperated from its neighbours by a single index change<br />
> in y or x, but not both.<br />
> example: convert y_ind = [10,11], x_ind = [1,2] to y_ind = [10,10], x_ind = [1,2]<br />
> or  y_ind = [10,11], x_ind = [1,1]<br />
> <br />
> Parameters<br />
> ----------<br />
> dataset : xarray.Dataset<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  xarray Dataset from supplied gridded object<br />
> y_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1d array of y indices defining the contour on the model grid<br />
> x_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1d array of x indices defining the contour on the model grid<br />
> <br />
> Returns<br />
> -------<br />
> y_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  processed y indices of the contour on the model grid<br />
> x_ind : numpy.ndarray<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  processed x indices of the contour on the model grid<br />
> <br />
##### Contour.gen_z_levels()
```python
@staticmethod
def Contour.gen_z_levels(max_depth):
```
> <br />
> Generates a pre-defined 1d vertical depth coordinates,<br />
> i.e. horizontal z-level vertical coordinates up to a supplied<br />
> maximum depth, 'max_depth'<br />
> <br />
#### ContourF()
```python
class ContourF(Contour):
```

```
Class defining a Contour type on the f-grid, which is a 3d dataset of points between a point A and
a point B defining an isobath contour. The dataset has a time, depth and contour dimension.
The contour dimension defines the points along the contour.
The supplied model f-grid Data is subsetted in its entirety along these dimensions
within Contour_f.data_contour of type xarray.Dataset


Parameters
----------
gridded_f : Coast
    f-grid gridded object containing the model dataset.
y_ind : numpy.ndarray
    1d array of y indices defining the contour on the model grid
x_ind : numpy.ndarray
    1d array of x indices defining the contour on the model grid
depth : int
    Depth of contour isobath
```

##### ContourF.calc_cross_contour_flow()
```python

def ContourF.calc_cross_contour_flow(self, gridded_u, gridded_v):
```
> <br />
> Method that will calculate the flow across the contour and store this data<br />
> within Contour_f.data_cross_flow, which is an xarray.Dataset. Specifically<br />
> Contour_f.normal_velocities are the velocities across the contour<br />
> (time, depth, position along contour) in m/s<br />
> Contour_f.depth_integrated_normal_transport are the depth integrated<br />
> volume transports across the contour (time, position along contour) in Sv<br />
> <br />
> If the time dependent cell thicknesses (e3) on the u and v grids are<br />
> present in the gridded_u and gridded_v datasets they will be used, if they<br />
> are not then the initial cell thicknesses (e3_0) will be used.<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded_u : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The gridded object containing the model data on the u-grid.<br />
> gridded_v : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The gridded object containing the model data on the v-grid.<br />
> <br />
> Returns<br />
> -------<br />
> None.<br />
> <br />
##### ContourF._update_cross_flow_vars()
```python

def ContourF._update_cross_flow_vars(self, var, u_var, v_var, dr_n, dr_s, dr_e, dr_w, pos):
```
> <br />
> This method will pull variable data at specific points along the contour<br />
> from the u and v grid datasets and put them into the self.data_cross_flow dataset<br />
> <br />
##### ContourF._update_cross_flow_latlon()
```python

def ContourF._update_cross_flow_latlon(self, ds_u, ds_v, dr_n, dr_s, dr_e, dr_w):
```
> <br />
> This method will pull the latitude and longitude data at specific points along the<br />
> contour from the u and v grid datasets and put them into the self.data_cross_flow dataset<br />
> <br />
##### ContourF._pressure_gradient_fpoint2()
```python
@staticmethod
def ContourF._pressure_gradient_fpoint2(ds_t, ds_t_j1, ds_t_i1, ds_t_j1i1, r_ind, velocity_component):
```
> <br />
> Calculates the hydrostatic and surface pressure gradients at a set of f-points<br />
> along the contour, i.e. at a set of specific values of r_dim (but for all time and depth).<br />
> The caller must supply four datasets that contain the variables which define<br />
> the hydrostatic and surface pressure at all vertical z_levels and all time<br />
> on the t-points around the contour i.e. for a set of f-points on the contour<br />
> defined each defined at (j+1/2, i+1/2), we want t-points at (j,i), (j+1,i), (j,i+1), (j+1,i+1),<br />
> corresponding to ds_t, ds_t_j1, ds_t_i1, ds_t_j1i1, respectively.<br />
> ds_t, ds_t_j1, ds_t_i1, ds_t_j1i1 will have dimensions in time and depth.<br />
> <br />
> The velocity_component defines whether u or v is normal to the contour<br />
> for the segments of the contour. A segment of contour is<br />
> defined as being r_dim to r_dim+1 where r_dim is the along contour dimension.<br />
> <br />
> <br />
> Returns<br />
> -------<br />
> hpg_f : DataArray with dimensions in time and depth and along contour<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  hydrostatic pressure gradient at a set of f-points along the contour<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  for all time and depth<br />
> spg_f : DataArray with dimensions in time and depth and along contour<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  surface pressure gradient at a set of f-points along the contour<br />
> <br />
##### ContourF.calc_geostrophic_flow()
```python

def ContourF.calc_geostrophic_flow(self, gridded_t, ref_density=None, config_u=config/example_nemo_grid_u.json, config_v=config/example_nemo_grid_v.json):
```
> <br />
> This method will calculate the geostrophic velocity and volume transport<br />
> (due to the geostrophic current) across the contour.<br />
> <b>Four variables are added to the Contour.data_cross_flow dataset:</b><br />
> 1. normal_velocity_hpg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    (t_dim, depth_z_levels, r_dim)<br />
> This is the velocity due to the hydrostatic pressure gradient<br />
> 2. normal_velocity_spg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    (t_dim, r_dim)<br />
> This is the velocity due to the surface pressure gradient<br />
> 3. transport_across_AB_hpg  (t_dim, r_dim)<br />
> This is the volume transport due to the hydrostatic pressure gradient<br />
> 4. transport_across_AB_spg  (t_dim, r_dim<br />
> This is the volume transport due to the surface pressure gradient<br />
> <br />
> This implementation works by regridding vertically onto horizontal z_levels in order<br />
> to perform the horizontal gradients. Currently s_level depths are<br />
> assumed fixed at their initial depths, i.e. at time zero.<br />
> <br />
> Requirements: The gridded t-grid dataset, gridded_t, must contain the sea surface height,<br />
> Practical Salinity and the Potential Temperature variables. The depth_0<br />
> field must also be supplied. The GSW package is used to calculate<br />
> The Absolute Pressure, Absolute Salinity and Conservate Temperature.<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded_t : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  This is the gridded model data on the t-grid for the entire domain.<br />
> ref_density : TYPE, optional<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  reference density value. If not supplied a mean in time, depth and<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  along the contour will be used as the mean reference value.<br />
> config_u : file<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  configuration file for u-grid object<br />
> config_v : file<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  configuration file for v-grid object<br />
> <br />
> Returns<br />
> -------<br />
> None.<br />
> <br />
#### ContourT()
```python
class ContourT(Contour):
```

```
Class defining a Contour type on the t-grid, which is a 3d dataset of points between a point A and
a point B defining an isobath contour. The dataset has a time, depth and contour dimension.
The contour dimension defines the points along the contour.
The supplied model t-grid Data is subsetted in its entirety along these dimensions and
calculations can be performed on this dataset.

Parameters
----------
gridded_t : Coast
    t-grid gridded object containing the model dataset.
y_ind : numpy.ndarray
    1d array of y indices defining the contour on the model grid
x_ind : numpy.ndarray
    1d array of x indices defining the contour on the model grid
depth : int
    Depth of contour isobath
```

##### ContourT.construct_pressure()
```python

def ContourT.construct_pressure(self, ref_density=None, z_levels=None, extrapolate=False):
```
> <br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  This method is for calculating the hydrostatic and surface pressure fields<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  on horizontal levels in the vertical (z-levels). The motivation<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  is to enable the calculation of horizontal gradients; however,<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  the variables can quite easily be interpolated onto the original<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  vertical grid.<br />
> <br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Requirements: The object's t-grid dataset must contain the sea surface height,<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Practical Salinity and the Potential Temperature variables.<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The GSW package is used to calculate the Absolute Pressure,<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Absolute Salinity and Conservate Temperature.<br />
> <br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Three new variables (density, hydrostatic pressure, surface pressure)<br />
> <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  are created and added to the Contour_t.data_contour dataset:</b><br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  density_zlevels&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     (t_dim, depth_z_levels, r_dim)<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  pressure_h_zlevels&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  (t_dim, depth_z_levels, r_dim)<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  pressure_s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  (t_dim, r_dim)<br />
> <br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Note that density is constructed using the EOS10<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  equation of state.<br />
> <br />
> Parameters<br />
> ----------<br />
> ref_density: float<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  reference density value, if None, then the Contour mean across time,<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  depth and along contour will be used.<br />
> z_levels : (optional) numpy array<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1d array that defines the depths to interpolate the density and pressure<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  on to.<br />
> extrapolate : boolean, default False<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  If true the variables are extrapolated to the deepest z_level, if false,<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  values below the bathymetry are set to NaN<br />
> Returns<br />
> -------<br />
> None.<br />
> <br />
##### ContourT.calc_along_contour_flow()
```python

def ContourT.calc_along_contour_flow(self, gridded_u, gridded_v):
```
> <br />
> Function that will calculate the flow along the contour and store this data<br />
> within Contour_t.data_along_flow, which is an xarray.Dataset. Specifically<br />
> Contour_t.data_along_flow.velocities are the velocities along the contour with dimensions<br />
> (t_dim, z_dim, r_dim), where r_dim is the dimension along the contour.<br />
> Contour_t.data_along_flow.transport are the velocities along the contour multiplied by the<br />
> thickness of the cell (velocity * e3) with dimensions<br />
> (t_dim, z_dim, r_dim).<br />
> <br />
> If the time dependent cell thicknesses (e3) on the u and v grids are<br />
> present in the gridded_u and gridded_v datasets they will be used, if they<br />
> are not then the initial cell thicknesses (e3_0) will be used.<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded_u : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The nemo object containing the model data on the u-grid.<br />
> gridded_v : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The nemo object containing the model data on the v-grid.<br />
> <br />
> Returns<br />
> -------<br />
> None.<br />
> <br />
##### ContourT.calc_along_contour_flow_2d()
```python

def ContourT.calc_along_contour_flow_2d(self, gridded_u, gridded_v):
```
> <br />
> Function that will calculate the 2d flow (no vertical dimension<br />
> along the contour and store this data within Contour_t.data_along_flow,<br />
> which is an xarray.Dataset. Contour_t.data_along_flow.velocities are<br />
> the velocities along the contour with dimensions (t_dim, r_dim),<br />
> where r_dim is the dimension along the contour. e3 and<br />
> e3_0 are interpreted to be the water column thicknesses and<br />
> are included in the dataset as Contour_t.data_along_flow.e3 and<br />
> Contour_t.data_along_flow.e3_0<br />
> <br />
> Parameters<br />
> ----------<br />
> gridded_u : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The nemo object containing the model data on the u-grid.<br />
> gridded_v : Coast<br />
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  The nemo object containing the model data on the v-grid.<br />
> <br />
> Returns<br />
> -------<br />
> None.<br />
> <br />
##### ContourT._update_flow_vars()
```python

def ContourT._update_flow_vars(self, var, u_var, v_var, dr_n, dr_s, dr_e, dr_w, pos):
```
> <br />
> This method will pull variable data at specific points along the contour<br />
> from the u and v grid datasets and put them into the self.data_along_flow dataset<br />
> <br />
##### ContourT._update_along_flow_latlon()
```python

def ContourT._update_along_flow_latlon(self, ds_u, ds_v, dr_n, dr_s, dr_e, dr_w):
```
> <br />
> This method will pull latitude and longitude data at specific points along the<br />
> contour from the u and v grid datasets and put them into the self.data_along_flow dataset<br />
> <br />
